# 백엔드 스터디

### 0914 알게 된 것

restful  API 
methods 에서 GET과 POST를 제외한 나머지  put과 delete 등의 메소드를 사용하는 것은 금지되는 회사들이 많은데, 

그 이유는 

PUT, DELETE Method는 임의로 서버 내 파일의 생성 및 삭제가 가능하기 때문에 비인가 사용자에 의한 조작의 위험이 있고 TRACE Method 같은 경우는 클라이언트가 송신한 리퀘스트를 그대로 반환하게 되는데 이때 쿠키 및 세션값이 그대로 반환되게 되며 XST(Cross-Site Tracing)이라는 공격에 사용되어지기도 한다.

```html
<!doctype html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="Generator" content="EditPlus®">
    <meta name="Author" content="">
    <meta name="Keywords" content="">
    <meta name="Description" content="">
    <title>SQLite3 게시판 등록</title>

    <style type="text/css">
        body {
            text-align: center;
        }
    </style>
</head>

<body>
    <h3>게시판</h3>
    <h4>추가</h4>
    <form action="/add" method="POST">
        이름<br>
        <input type="text" name="name" /><br>
        내용<br>
        <input type="text" name="context" style="text-align:center; width:400px; height:100px;" /><br><br>
        <input type="submit" value="게 시" /><br>
    </form>
    <h4>목록보기</h4>
    <table border=1 width="600" align="center">
        <thead>
            <td>목차</td>
            <td>이름</td>
            <td>내용</td>
            <td>수정, 삭제</td>
        </thead>
        {% for row in rows %}
        <tr>
            <td>{{ loop.index }}</td>
            <td>{{ row[0] }}</td>
            <td>{{ row[1] }}</td>
            <td><a href="{{url_for('update', uid = loop.index)}}">수정</a> <a
                    href="{{url_for('delete', uid = loop.index)}}">삭제</a></td>
        </tr>
        {% endfor %}
    </table>
</body>

</html>
```

```python
from flask import Flask, render_template, request, redirect, url_for
app = Flask(__name__)

board = []

@app.route('/')
def index():
    return render_template('list.html', rows = board)

@app.route('/add', methods = ['POST'])
def add():
    print(request.method)
    if request.method == 'POST':
        board.append([request.form['name'], request.form['context']])
        return redirect(url_for('index'))
    else:
        return render_template('list.html', rows = board)

@app.route('/delete/<int:uid>')
def delete(uid):
    # board 리스트에서 uid번째에 해당하는 원소를 삭제하세요.
    board.remove(board[uid-1])
    return redirect(url_for('index'))

@app.route('/update/<int:uid>', methods=['GET','POST'])
def update(uid):
    if request.method =='POST':
        # board 리스트에서 uid번째에 해당하는 원소를 입력받은 name과 context로 수정하세요.
        board[uid-1] = [request.form['name'], request.form['context']]
        return redirect(url_for('index'))
    else:
        return render_template('update.html',index=uid,rows=board)

if __name__ == '__main__':
    app.run(debug=True)
```

url_for함수 route함수명을 넣으면 해당 route가 가지는 url주소를 가져온다.

<uid>

제인 2까지 

차봉준 3까지 하고

김명지 3까지

장재웅 4강 

정아영 

배포까지?????

sql연결 ?!

flask랑 리액트랑연동 

package json 설정

proxy 연결 

프론트엔드가 캐치 

## 파이썬 vscode 가상환경 설정하기

[https://velog.io/@awesome-hong/VScode에서-가상환경-설정-Flask-설치하기](https://velog.io/@awesome-hong/VScode%EC%97%90%EC%84%9C-%EA%B0%80%EC%83%81%ED%99%98%EA%B2%BD-%EC%84%A4%EC%A0%95-Flask-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0)

## **파이썬의 venv 모듈로 가상 환경 사용하기**

 [https://www.daleseo.com/python-venv/#google_vignette](https://www.daleseo.com/python-venv/#google_vignette)

python3 -m venv .venv 

모듈을 의미 (-m) (venv모듈 실행) (디렉토리 이름)

.venv파일을 가진 새로운 가상환경 폴더 생성

가상환경이 설정된 상태에서 패키지를 설치하면 .venv폴더 내부에 설치되므로

컴퓨터 내부의 python이나 다른 프로젝트 python에 영향을 미치지 않음

가상환경 활성화

```bash
. .venv/bin/activate (혹은 source .venv/bin/activate)
```

어떤 패키지가 가상환경에 설치되어있는지 확인

```bash
pip list
```

requests를 설치

```bash
pip install requests
```

requests 확인 

```bash
pip show requests
```

가상환경 빠져나올 때 (가상환경 비활성화)

```bash
deactivate
```

파이썬 인터프리터 설정 (command+shift+p) Python 3.11.4 64-bit

## vscode로 flask tutorial을 위한 프로젝트 환경 사용

[https://code.visualstudio.com/docs/python/tutorial-flask](https://code.visualstudio.com/docs/python/tutorial-flask)

shift + command + p 에서 Python: Create Environment에서 

가상환경 만들기

가상환경에서 flask설치 (설치할 때 venv 가상환경 활성화 해놓고 하기!!!)

```bash
python3 -m pip install flask
```

flask 실행해보기

```bash
python3 -m flask run
```

### 프론트엔드

[https://velog.io/@boyfromthewell/React-각각의-버튼-클릭시-색상-변경-map으로-렌더링-한-경우](https://velog.io/@boyfromthewell/React-%EA%B0%81%EA%B0%81%EC%9D%98-%EB%B2%84%ED%8A%BC-%ED%81%B4%EB%A6%AD%EC%8B%9C-%EC%83%89%EC%83%81-%EB%B3%80%EA%B2%BD-map%EC%9C%BC%EB%A1%9C-%EB%A0%8C%EB%8D%94%EB%A7%81-%ED%95%9C-%EA%B2%BD%EC%9A%B0)